################################################################################
# MANGOWC CONFIGURATION
# Ported from Hyprland setup - Arch + MangoWC dotfiles
################################################################################

################################################################################
# MONITOR CONFIGURATION
################################################################################

# MangoWC monitor format: name,mfact,nmaster,layout,transform,scale,x,y,width,height,refreshrate
# Laptop (left) - 1920x1200 @ 60Hz at position (0,0)
monitorrule=eDP-1,0.55,1,scroller,0,1,0,0,1920,1200,60
# External 1 landscape (middle) - 1920x1080 @ 60Hz at position (1920,0)
monitorrule=HDMI-A-1,0.55,1,scroller,0,1,1920,0,1920,1080,60
# External 2 portrait (right) - 1920x1080 @ 60Hz rotated 90Â° at position (3840,0)
monitorrule=DP-3,0.55,1,scroller,3,1,3840,0,1080,1920,60

################################################################################
# APPEARANCE & EFFECTS
################################################################################

# Window effects
blur=1
blur_params_radius=5
blur_params_passes=1
shadows=1
border_radius=8
active_opacity=1.0
inactive_opacity=1.0

# Colors (Catppuccin Macchiato)
color_root=#24273a
color_border=#6e738d
color_focus=#c6a0f6
color_urgent=#ed8796

# Borders
borderpx=2

################################################################################
# ANIMATIONS
################################################################################

animations=1

# Window open/close animations
animation_type_open=zoom
animation_duration_open=350
animation_curve_open=0.05,0.9,0.1,1.05

animation_type_close=zoom
animation_duration_close=350
animation_curve_close=0.05,0.9,0.1,1.05

# Window move animation
animation_type_move=slide
animation_duration_move=350
animation_curve_move=0.05,0.9,0.1,1.05

# Tag switch animations
animation_type_tag_enter=slide
animation_duration_tag_enter=400
animation_curve_tag_enter=0.05,0.9,0.1,1.05

animation_type_tag_leave=slide
animation_duration_tag_leave=400
animation_curve_tag_leave=0.05,0.9,0.1,1.05

# Fade animations
animation_fade_on_focus_change=1
fade_in_duration=350
fade_out_duration=350

################################################################################
# LAYOUT CONFIGURATION
################################################################################

# Gap settings
# Inner horizontal gap
gappih=5
# Inner vertical gap
gappiv=5
# Outer horizontal gap
gappoh=10
# Outer vertical gap
gappov=10

# Default layout (scroller for the scrolling effect you want!)
default_layout=scroller

# Scroller layout settings (this is what you wanted from Mango!)
# Windows take 90% of screen
scroller_default_proportion=0.9
# Gap between scrolling windows
scroller_window_gap=10

# Master-stack layout settings
# Master window takes 55% of screen
default_mfact=0.55
# Number of windows in master area
default_master_num=1

# Available layouts (you can switch between these):
# - tile: Master-stack tiling (like Hyprland master)
# - scroller: Horizontal scrolling windows (like Niri!)
# - vertical_scroller: Vertical scrolling windows
# - monocle: One window fullscreen
# - grid: Grid layout (closest to dwindle auto-tiling)
# - deck: Master with stacked secondary windows
# - center_tile: Centered master window
# - vertical_spiral: Spiral pattern
# - vertical_tile: Vertical master-stack

################################################################################
# INPUT CONFIGURATION
################################################################################

# Keyboard
repeat_rate=25
repeat_delay=600

# Keyboard layouts (US and FR with Alt+Shift to switch)
xkb_rules_layout=fr,us
xkb_rules_variant=,
xkb_rules_options=grp:alt_shift_toggle

# Touchpad
tap_to_click=1
natural_scrolling=1
drag_lock=1

# Mouse
scroll_method=2fg
cursor_size=24

################################################################################
# KEYBINDINGS
################################################################################

# Note: MangoWC uses tags (like dwm) not workspaces
# Tags are more flexible - windows can be on multiple tags at once

# System controls
# Reload config
bind=SUPER+SHIFT,r,reload_config

# Application launchers
# Terminal
binds=SUPER,q,spawn,kitty
# App launcher
binds=SUPER,r,spawn,rofi -show drun
# Browser
binds=SUPER,b,spawn,zen-browser
# VSCode (Editor)
binds=SUPER,e,spawn,code
# Notes
binds=SUPER,n,spawn,obsidian
# File Explorer (Directory)
binds=SUPER,d,spawn,thunar

# Window controls
# Close window
binds=SUPER,c,killclient,
# Exit MangoWC
binds=SUPER,m,quit,
# Fullscreen
binds=SUPER,f,togglefullscreen,
# Toggle floating
binds=SUPER+SHIFT,space,togglefloating,
# Toggle split direction
binds=SUPER,t,togglesplit,

# Lock screen (will use swaylock instead of hyprlock)
binds=SUPER,l,spawn,swaylock

# Focus movement (arrow keys)
bind=SUPER,Left,focusdir,l
bind=SUPER,Right,focusdir,r
bind=SUPER,Up,focusdir,u
bind=SUPER,Down,focusdir,d

# Focus movement (vim keys)
binds=SUPER,h,focusdir,l
binds=SUPER,j,focusdir,d
binds=SUPER,k,focusdir,u
# Note: SUPER,l is lock screen
binds=SUPER+SHIFT,l,focusdir,r

# Move windows (arrow keys)
bind=SUPER+SHIFT,Left,movewindow,l
bind=SUPER+SHIFT,Right,movewindow,r
bind=SUPER+SHIFT,Up,movewindow,u
bind=SUPER+SHIFT,Down,movewindow,d

# Move windows (vim keys)
binds=SUPER+SHIFT,h,movewindow,l
binds=SUPER+SHIFT,j,movewindow,d
binds=SUPER+SHIFT,k,movewindow,u
# binds=SUPER+SHIFT,l,movewindow,r    # Already used for focus

# Resize windows (arrow keys)
bind=SUPER+CTRL,Left,resizeactive,-20,0
bind=SUPER+CTRL,Right,resizeactive,20,0
bind=SUPER+CTRL,Up,resizeactive,0,-20
bind=SUPER+CTRL,Down,resizeactive,0,20

# Resize windows (vim keys)
binds=SUPER+CTRL,h,resizeactive,-20,0
binds=SUPER+CTRL,l,resizeactive,20,0
binds=SUPER+CTRL,k,resizeactive,0,-20
binds=SUPER+CTRL,j,resizeactive,0,20

# Tag switching (tags 1-9 - like workspaces but more flexible)
bind=SUPER,1,view,1
bind=SUPER,2,view,2
bind=SUPER,3,view,3
bind=SUPER,4,view,4
bind=SUPER,5,view,5
bind=SUPER,6,view,6
bind=SUPER,7,view,7
bind=SUPER,8,view,8
bind=SUPER,9,view,9

# Move window to tag
bind=SUPER+SHIFT,1,tag,1
bind=SUPER+SHIFT,2,tag,2
bind=SUPER+SHIFT,3,tag,3
bind=SUPER+SHIFT,4,tag,4
bind=SUPER+SHIFT,5,tag,5
bind=SUPER+SHIFT,6,tag,6
bind=SUPER+SHIFT,7,tag,7
bind=SUPER+SHIFT,8,tag,8
bind=SUPER+SHIFT,9,tag,9

# Tag navigation (next/previous)
bind=SUPER,Tab,viewnext,
bind=SUPER+SHIFT,Tab,viewprev,

# Layout switching
# Switch to scroller (horizontal scrolling!)
bind=SUPER,space,setlayout,scroller
# Switch to tile (master-stack, like Hyprland master)
bind=SUPER+ALT,space,setlayout,tile
# Switch to grid (auto-tiling, closest to dwindle)
binds=SUPER+ALT,g,setlayout,grid
# Switch to monocle (fullscreen)
binds=SUPER+ALT,m,setlayout,monocle
# Switch to vertical scroller
binds=SUPER+ALT,v,setlayout,vertical_scroller
# Switch to deck (master + stacked)
binds=SUPER+ALT,d,setlayout,deck
# Switch to spiral (alternative tiling)
binds=SUPER+ALT,s,setlayout,vertical_spiral

# Gap adjustment
# Increase gaps
bind=SUPER,equal,incgaps,5
# Decrease gaps
bind=SUPER,minus,decgaps,5
# Toggle gaps on/off
bind=SUPER,0,togglegaps,

# Screenshots
binds=SUPER,s,spawn_shell,grim -g "$(slurp)" - | tee ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png | wl-copy
binds=SUPER,p,spawn_shell,grim - | tee ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png | wl-copy
bind=,Print,spawn_shell,grim - | tee ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png | wl-copy

# Clipboard history
binds=SUPER,v,spawn_shell,cliphist list | rofi -dmenu | cliphist decode | wl-copy

# Audio controls (media keys)
bind=,XF86AudioRaiseVolume,spawn,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind=,XF86AudioLowerVolume,spawn,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind=,XF86AudioMute,spawn,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind=,XF86AudioMicMute,spawn,wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Brightness controls (media keys)
bind=,XF86MonBrightnessUp,spawn,brightnessctl set 5%+
bind=,XF86MonBrightnessDown,spawn,brightnessctl set 5%-

# Media controls (media keys)
bind=,XF86AudioPlay,spawn,playerctl play-pause
bind=,XF86AudioNext,spawn,playerctl next
bind=,XF86AudioPrev,spawn,playerctl previous

################################################################################
# MOUSE BINDINGS
################################################################################

bind=SUPER,mouse:BTN_LEFT,movewindow,
bind=SUPER,mouse:BTN_RIGHT,resizewindow,

################################################################################
# WINDOW RULES
################################################################################

# Float specific windows
windowrule=isfloating:1,appid:pavucontrol
windowrule=isfloating:1,appid:blueman-manager
windowrule=isfloating:1,appid:nm-connection-editor
windowrule=isfloating:1,title:Picture-in-Picture

# Size rules for floating windows
windowrule=width:800,height:600,appid:pavucontrol

# Opacity rules (terminal and VSCode slightly transparent)
windowrule=opacity:0.9,appid:kitty
windowrule=opacity:0.95,appid:Code

################################################################################
# AUTOSTART
################################################################################

# These will be in autostart.sh instead (see autostart.sh file)
# - waybar
# - dunst
# - nm-applet
# - blueman-applet
# - swww
# - clipboard manager
# - idle manager

################################################################################
# MISC SETTINGS
################################################################################

# Keyboard layout switching (US/FR with Alt+Shift)
# Note: This might need to be configured via environment or startup script
# For now, we'll handle it in autostart.sh
